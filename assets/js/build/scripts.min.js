!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.fluidvids=t()}(this,function(){"use strict";function e(e){return new RegExp("^(https?:)?//(?:"+i.players.join("|")+").*$","i").test(e)}function t(t){if((e(t.src)||e(t.data))&&!t.getAttribute("data-fluidvids")){var i=document.createElement("div");t.parentNode.insertBefore(i,t),t.className+=(t.className?" ":"")+"fluidvids-item",t.setAttribute("data-fluidvids","loaded"),i.className+="fluidvids",i.style.paddingTop=(n=t.height,o=t.width,parseInt(n,10)/parseInt(o,10)*100+"%"),i.appendChild(t)}var n,o}var i={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]},n=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),o=document.head||document.getElementsByTagName("head")[0];return i.render=function(){for(var e=document.querySelectorAll(i.selector.join()),n=e.length;n--;)t(e[n])},i.init=function(e){for(var t in e)i[t]=e[t];var d;i.render(),(d=document.createElement("div")).innerHTML="<p>x</p><style>"+n+"</style>",o.appendChild(d.childNodes[1])},i}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("*[rel=js-menu-toggle]"),t=document.querySelector("*[rel=js-menu]");function i(){t.classList.toggle("js-open"),e.classList.toggle("js-open")}e.addEventListener("click",i),document.addEventListener("keyup",function(n){27===n.keyCode&&t.classList.contains("js-open")&&(i(),e.focus())}),fluidvids.init({selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]})});